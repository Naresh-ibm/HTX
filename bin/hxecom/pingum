#!/bin/bash

########################################################################
#                                                                      # 
# pingum script is a wrapper which invokes htx_env.sh script to set    #
# HTX environment variables and finally invokes pingum_config          #
# script to test ping state of interfaces.                             #
#                                                                      #
########################################################################

if [[ -z "${HTX_HOME_DIR}" ]];
then
    HTX_HOME_DIR=`cat /var/log/htx_install_path 2> /dev/null`;

    if [[ -f ${HTX_HOME_DIR}/etc/scripts/htx_env.sh ]];
    then
        . ${HTX_HOME_DIR}/etc/scripts/htx_env.sh;
    else
        echo "htx_env.sh could not be found at ${HTX_HOME_DIR}/etc/scripts/"
        echo "Please make sure HTX is installed and installation path is"
        echo "updated in /var/log/htx_install_path. Exiting"
        exit 1
    fi
fi

/usr/bin/pingum_config
